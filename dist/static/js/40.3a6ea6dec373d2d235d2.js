webpackJsonp([40],{"Ryr/":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("gyMJ"),l={data:function(){return{is_visible:!0,loading:!1,submit_loading:!1,form_data:{},fields:[],errors:{}}},props:["table_name"],mounted:function(){var t=this;this.loading=!0,i.b.options("data/"+this.table_name).then(function(e){t.loading=!1,t.fields=e.data.actions.POST}).catch(function(t){})},methods:{on_close:function(){this.$el.parentNode.removeChild(this.$el),this.$destroy()},submit:function(){var t=this;this.submit_loading=!0,this.$c_master.post("data/"+this.table_name,this.form_data).then(function(e){t.submit_loading=!1,t.$message.success("添加成功"),t.errors={},t.$emit("add_item",e.data._id),t.on_close()}).catch(function(e){t.submit_loading=!1,t.errors=e.response.data})}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"向 "+t.table_name+" 添加记录",visible:t.is_visible},on:{"update:visible":function(e){t.is_visible=e},close:t.on_close}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("el-form",{staticStyle:{"margin-right":"50px"},attrs:{"label-width":"120px",size:"small"}},[t._l(t.fields,function(e,i){return"S"!=i[0]?a("el-form-item",{key:i,attrs:{label:i+":",required:e.required,error:t._f("c_array_to_string")(t.errors[i])}},["list"==e.type?a("c-select",{staticStyle:{width:"100%"},attrs:{placeholder:(e.label?e.label:i)+" | type:"+e.type+"/"+e.child.type,multiple:"",filterable:"","allow-create":"","default-first-option":"",remote:""},model:{value:t.form_data[i],callback:function(e){t.$set(t.form_data,i,e)},expression:"form_data[k]"}}):a("el-input",{attrs:{placeholder:(e.label?e.label:i)+" | type:"+e.type},model:{value:t.form_data[i],callback:function(e){t.$set(t.form_data,i,e)},expression:"form_data[k]"}})],1):t._e()}),t._v(" "),a("el-form-item",[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:t.submit_loading},on:{click:function(e){t.submit()}}},[t._v("提  交")])],1)],2)],1)])},staticRenderFns:[]},o=a("VU/8")(l,s,!1,null,null,null);e.default=o.exports}});
//# sourceMappingURL=40.3a6ea6dec373d2d235d2.js.map