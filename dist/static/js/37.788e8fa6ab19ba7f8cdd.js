webpackJsonp([37],{XtLp:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=l("gyMJ"),s=l("0xDb"),o={data:function(){return{is_visible:!0,form_data:{},fields:[],errors:{},TYPE_MAP:s.a}},props:["table"],mounted:function(){var t=this;console.log("table.fields:",this.table.fields),a.b.options("data/"+this.table.name).then(function(e){t.fields=e.actions.POST}).catch(function(t){})},methods:{on_close:function(){this.$el.parentNode.removeChild(this.$el),this.$destroy()},submit:function(){var t=this;a.b.put("data/"+this.table_name+"/"+this.data._id,this.form_data).then(function(e){t.$message.success("添加成功")}).catch(function(e){if(console.log("exc.reponse:",e.response),e.response&&e.response.data)return e.response.data.detail?void t.$message.error(e.response.data.detail):void(t.errors=e.response.data);console.log(e.message)})}}},n={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("el-dialog",{attrs:{title:"表 "+t.table.name+" 详细信息",visible:t.is_visible},on:{"update:visible":function(e){t.is_visible=e},close:t.on_close}},[l("table",{staticStyle:{width:"100%",padding:"15px"}},[l("tr",[l("td",{staticStyle:{color:"#909399",width:"13%"}},[t._v("表名:")]),t._v(" "),l("td",{staticStyle:{color:"#606266",width:"37%"}},[t._v(t._s(t.table.name))]),t._v(" "),l("td",{staticStyle:{color:"#909399",width:"13%"}},[t._v("创建者")]),t._v(" "),l("td",{staticStyle:{color:"#606266",width:"37%"}},[t._v(t._s(t.table.creator_username))])]),t._v(" "),l("tr",[l("td",{staticStyle:{color:"#909399"}},[t._v("别名:")]),t._v(" "),l("td",{staticStyle:{color:"#606266"}},[t._v(t._s(t.table.alias))]),t._v(" "),l("td",{staticStyle:{color:"#909399"}},[t._v("创建时间:")]),t._v(" "),l("td",{staticStyle:{color:"#606266"}},[t._v(t._s(t.table.creation_time))])]),t._v(" "),l("tr",[l("td",{staticStyle:{color:"#909399"}},[t._v("自述:")]),t._v(" "),l("td",{staticStyle:{color:"#606266"},attrs:{colspan:"3"}},[t._v(t._s(t.table.readme))])])]),t._v(" "),l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.table.fields}},[l("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[l("el-form-item",{attrs:{label:"自述:"}},[l("span",[t._v(t._s(e.row.readme))])])],1)]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"name",label:"字段名"}}),t._v(" "),l("el-table-column",{attrs:{prop:"alias",label:"别名"}}),t._v(" "),l("el-table-column",{attrs:{label:"必须"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",[t._v(t._s(String(e.row.required)))])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"多值"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",[t._v(t._s(String(e.row.is_multi)))])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",[t._v(t._s(t.TYPE_MAP[e.row.type]))])]}}])})],1)],1)},staticRenderFns:[]},i=l("VU/8")(o,n,!1,null,null,null);e.default=i.exports}});
//# sourceMappingURL=37.788e8fa6ab19ba7f8cdd.js.map