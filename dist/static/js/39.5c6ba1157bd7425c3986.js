webpackJsonp([39],{ZlPc:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),s=a.n(i),l=a("gyMJ"),o={data:function(){return console.log("this.props.data:",this.data),{is_visible:!0,loading:!1,submit_loading:!1,form_data:JSON.parse(s()(this.data._source)),fields:[],errors:{}}},props:["data"],mounted:function(){var t=this;this.loading=!0,l.b.options("data/"+this.data._index).then(function(e){t.loading=!1,t.fields=e.data.actions.POST}).catch(function(e){t.loading=!1,e.response&&e.response.data&&t.$message.error(t.response.data),console.log(e.message)})},methods:{on_close:function(){this.$el.parentNode.removeChild(this.$el),this.$destroy()},submit:function(){var t=this;this.errors={},this.$c_master.put("data/"+this.data._index+"/"+this.data._id,this.form_data).then(function(e){t.submit_loading=!1,t.$message.success("修改成功"),t.$emit("update_item",t.form_data),t.on_close()}).catch(function(e){t.submit_loading=!1,t.errors=e.response.data})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.data._index+" "+t.data._id+" 修改",visible:t.is_visible},on:{"update:visible":function(e){t.is_visible=e},close:t.on_close}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("el-form",{staticStyle:{"margin-right":"50px"},attrs:{"label-width":"100px",size:"small"}},[t._l(t.fields,function(e,i){return"S"!=i[0]?a("el-form-item",{key:i,attrs:{label:i+":",required:e.required,error:t._f("c_array_to_string")(t.errors[i])}},["list"==e.type?a("c-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.label?e.lable:i+" | type:"+e.type+"/"+e.child.type,multiple:"",filterable:"","allow-create":"","default-first-option":"",remote:""},model:{value:t.form_data[i],callback:function(e){t.$set(t.form_data,i,e)},expression:"form_data[k]"}}):a("el-input",{attrs:{placeholder:(e.label?e.label:i)+" | "+e.type},model:{value:t.form_data[i],callback:function(e){t.$set(t.form_data,i,e)},expression:"form_data[k]"}})],1):t._e()}),t._v(" "),a("el-form-item",[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:t.submit_loading},on:{click:function(e){t.submit()}}},[t._v("提  交")])],1)],2)],1)])},staticRenderFns:[]},n=a("VU/8")(o,r,!1,null,null,null);e.default=n.exports}});
//# sourceMappingURL=39.5c6ba1157bd7425c3986.js.map